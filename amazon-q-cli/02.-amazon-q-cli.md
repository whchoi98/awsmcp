# 02. Amazon Q CLI 기능 탐색하기

Amazon Q CLI는 단순한 CLI 도구를 넘어서, 인터랙티브한 코드 생성, 명령어 추천, 자동 완성, MCP 서버 연동 등 다양한 기능을 제공합니다. 본 장에서는 이러한 기능을 실습과 함께 단계별로 소개합니다.

***

### 🛠️ 1. 명령어 자동 완성 (Command Line Completion)

Amazon Q CLI를 전체 설치(full installation)한 경우, 다양한 명령어의 자동 완성 기능을 사용할 수 있습니다. 예를 들어, git, docker, aws 등 자주 사용하는 명령어를 입력하면 관련 옵션이 자동으로 추천됩니다.

#### Task 01

```
git [space] 입력 후 방향키(↑/↓)로 옵션 탐색
```

* git push \[space] → 더 구체적인 옵션으로 필터링됨
* ESC → 추천 창 닫기

docker, java, .net 등의 명령어도 실험해보세요.

***

### 🔎 2. 명령어 자동 제안 (Command Line Auto Suggestion)

타이핑 중에도 사용자의 입력을 기반으로 이전 명령어 기록 및 명령 패턴을 추천합니다.

> 별도 설정 없이 자동 적용됨

***

### 🤖 3. 명령어 변환 (Command Line Translation)

```
q ai "find the largest 3 files in this directory and any sub directories"
```

Amazon Q CLI가 의도를 파악하여 적절한 셸 명령어를 생성합니다:

```
find . -type f -exec du -h {} \; | sort -rh | head -3
```

#### Task 02

1. q ai 또는 q translate 사용
2. 생성된 명령어 실행 or 수정 or 재생성

***

### 💬 4. 대화형 채팅 (Interactive Chat)

q 또는 q chat 입력 시, Amazon Q CLI의 채팅 모드가 실행됩니다.

```
> what do you prefer, tabs or spaces
```

#### Task 03

* 채팅 모드 진입 및 간단한 질문
* /q 또는 CTRL+C로 종료

***

### ⚙️ 5. Agentic 모드 체험

Amazon Q CLI는 단순한 답변 생성뿐 아니라, 입력을 작업 단위로 나눠 실행할 수 있는 에이전트 기반 처리 기능을 지원합니다.

```
> show me without creating, an optimised Docker file to run a Python Flask app
```

#### Task 04

* 결과 확인 후, fs\_write 권한이 필요하지 않음



#### Task 05

```
> create an optimised Docker file to run a Python Flask application
```

* fs\_write 도구 신뢰 요청 발생
* t 입력하여 도구를 신뢰
* 생성된 파일 확인

***

### 🧾 6. 멀티라인 프롬프트 작성

* CTRL + J : 새 줄 입력
* \ 입력 후 Enter : 줄바꿈

#### Task 06

* Flask 기반 코드 작성 규칙을 멀티라인으로 입력해 보기

***

### ✍️ 7. 선호 에디터 설정

```
export EDITOR=vim
```

또는:

```
export EDITOR="code -w"
```

#### Task 07

* /editor 실행 → 에디터 열기 → 멀티라인 작성 → 저장 후 종료

***

### 🧠 8. 컨텍스트 관리 (Context Management)

#### 기본 컨텍스트 파일 자동 로딩

| 위치              | 파일명                   |
| --------------- | --------------------- |
| 현재 디렉터리         | README.md, AmazonQ.md |
| .amazonq/rules/ | \*.md                 |

```
/context show
```

#### Task 08

* 현재 로드된 컨텍스트 확인

***

### 📚 9. 프로필(Profile) 생성 및 전환

```
/profile create python-dev
/profile create java-dev
/profile set python-dev
```

#### Task 09 & 10

* 여러 프로필 생성 및 전환

***

### 📁 11\~12. Context 파일 로컬/글로벌 추가

```
/context add project-standards.md
/context add --global coding-standards.md
```

설정 파일 경로:

* 로컬: \~/.aws/amazonq/profiles/{profile}/context.json
* 글로벌: \~/.aws/amazonq/global\_context.json

***

### ⚡ 13\~14. Context 사용량 측정 및 압축

```
/usage
/compact
```

* context window 200K tokens 초과 방지

***

### 🔐 15. Tools 및 권한 관리

```
/tools trust use_aws
/tools trustall
/tools reset
```

> 도구 권한은 세션 단위로 초기화됨

***

### 🧩 16\~17. MCP 서버 연동

\~/.aws/amazonq/mcp.json 또는 .amazonq/mcp.json 에 MCP 서버 설정 추가

```
{
  "mcpServers": {
    "promptz.dev/mcp": {
      "command": "npx",
      "args": ["-y", "@promptz/mcp"],
      "env": { ... }
    }
  }
}
```

```
q mcp status --name promptz.dev/mcp
```

> MCP 서버가 로드되면 관련 Tool들이 /tools 에 표시됨

***

### 📋 18. Context Hook 설정

```
/context hooks add pirate --trigger per_prompt --command "cat MYHOOK.md"
```

* 프롬프트마다 pirate 스타일 응답 적용됨

***

### 🗃️ 19. 대화 저장 및 불러오기

```
/save my-session
/load my-session.json
```

***

### 🔁 세션 복원 및 지속 대화

```
q chat --resume
```

* 현재 디렉터리 기준 대화 복원됨

***

이제 Amazon Q CLI의 강력한 기능을 자유롭게 탐색하고 활용할 수 있는 준비가 되었습니다. 다음 장에서는 다양한 실제 Use Case 기반 실습을 진행합니다.
