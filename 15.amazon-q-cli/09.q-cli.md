---
description: 'Update : 2025.07.20'
---

# 09.Q CLI ê¸°ë°˜ í”Œë«í¼ ìš´ì˜ í™˜ê²½ ì„¤ì •

{% hint style="warning" %}
Amazon Q CLI ê¸°ë°˜ í”Œë«í¼ ìš´ì˜í•˜ê¸° ëª©ì°¨ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„œëŠ”, AWS ìì›ì´ ë°°í¬ ë©ë‹ˆë‹¤. ë”°ë¼ì„œ ë¹„ìš©ì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.
{% endhint %}

## ğŸ§© Amazon Q CLI ì‹¤ìŠµ í™˜ê²½ êµ¬ì„±

Amazon Q CLIì˜ ê³ ê¸‰ ê¸°ëŠ¥ì„ ì‹¤ìŠµí•  ìˆ˜ ìˆëŠ” í´ë¼ìš°ë“œ ê¸°ë°˜ í™˜ê²½ì„ ìë™ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ì¸í”„ë¼ë¶€í„° ê°œë°œ ë„êµ¬, AI í†µí•© ë„êµ¬(MCP)ê¹Œì§€ í¬í•¨ëœ ì¢…í•©ì  í•™ìŠµ í™˜ê²½ì…ë‹ˆë‹¤.

***

### ğŸ§ª ì•„í‚¤í…ì²˜ êµ¬ì„±

#### âœ… ë„¤íŠ¸ì›Œí‚¹ ì¸í”„ë¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    DMZ VPC      â”‚    â”‚     VPC01       â”‚    â”‚     VPC02       â”‚
â”‚  (Public/NAT)   â”‚    â”‚   (Private)     â”‚    â”‚   (Private)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                      â”‚                      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    Transit Gateway        â”‚
                    â”‚   (Cross-VPC Routing)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### âœ… ì„œë¹„ìŠ¤ êµ¬ì„± ìš”ì•½

* **DMZ VPC**: Public Subnet, NAT Gateway, Redis, OpenSearch (Option)
* **VPC01**: Private Subnet, Aurora MySQL
* **VPC02**: ì¶”ê°€ ì›Œí¬ë¡œë“œìš© Private Subnet
* **ì„ íƒì‚¬í•­**: Amazon EKS (K8s í™˜ê²½)

***

### ğŸ§ª ë¹ ë¥¸ ì‹œì‘

#### âœ… ì €ì¥ì†Œ í´ë¡  ë° ì´ë™

```bash
git clone https://github.com/whchoi98/amazonqcli_lab.git
cd amazonqcli_lab/LabSetup
```

#### âœ… ì¸í”„ë¼ ìë™ ë°°í¬

3ê°œì˜ VPCë¥¼ ë°°í¬í•©ë‹ˆë‹¤.

```bash
./0.depoly-all-vpcs.sh     # ë³‘ë ¬ VPC ë°°í¬

```

VPCê°„ì˜ ì—°ê²° êµ¬ì„±ì„ TGWë¥¼ í†µí•´ì„œ êµ¬ì„±í•©ë‹ˆë‹¤.

```
./0.deploy-tgw.sh          # Transit Gateway ë°°í¬

```

âœ… ê°œë°œ í™˜ê²½ êµ¬ì„±

```bash
./1.vscode-tools-installer.sh
./2.set-aws-env.sh
./3.kms-setup.sh
```

#### âœ… Amazon Q CLI ë° MCP ì„¤ì •

```bash
./4.install_core_mcp.sh
./5.setup-mcp-config.sh
```

***

### ğŸ§ª ìƒì„¸ ë°°í¬ ê°€ì´ë“œ ì†Œê°œ

#### ğŸ§ª Phase 1: ë„¤íŠ¸ì›Œí‚¹ ì¸í”„ë¼

**âœ… VPC êµ¬ì„± (0.depoly-all-vpcs.sh)**

* DMZ VPC: Public/NAT ì„œë¸Œë„·, IGW, NATGW
* VPC01/VPC02: Private ì„œë¸Œë„·, ë¼ìš°íŒ… í…Œì´ë¸”
* ë³‘ë ¬ ë°°í¬, S3 ì—…ë¡œë“œ í¬í•¨

**âœ… Transit Gateway ì„¤ì • (0.deploy-tgw.sh)**

* TGW ìƒì„± ë° VPC ì—°ê²°
* TGW ë¼ìš°íŒ… í…Œì´ë¸” ì„¤ì •

#### ğŸ§ª Phase 2: ê°œë°œ í™˜ê²½

**âœ… ê°œë°œ ë„êµ¬ ì„¤ì¹˜ (1.vscode-tools-installer.sh)**

* AWS CLI, kubectl, eksctl, helm, k9s
* jq, fzf, bash-completion ë“±

**âœ… AWS í™˜ê²½ êµ¬ì„± (2.set-aws-env.sh)**

* í”„ë¡œíŒŒì¼ ë° ë¦¬ì „ ë³€ìˆ˜ ì„¤ì •

**âœ… KMS í‚¤ êµ¬ì„± (3.kms-setup.sh)**

* ì•”í˜¸í™”ìš© KMS í‚¤ ë° ë³„ì¹­ êµ¬ì„±

#### ğŸ§ª Phase 3: Amazon Q CLI ë° MCP

**âœ… ëŸ°íƒ€ì„ ì„¤ì¹˜ (4.install\_core\_mcp.sh)**

* Python 3.12, uv, Node.js ì„¤ì¹˜

**âœ… MCP ì„œë²„ êµ¬ì„± (5.setup-mcp-config.sh)**

* MCP êµ¬ì„± íŒŒì¼ ìƒì„±
* Amazon Q CLIì™€ ì—°ë™

***

### ğŸ§ª ì„ íƒì  ì„œë¹„ìŠ¤ ë°°í¬

<table><thead><tr><th>ğŸ”— ì„œë¹„ìŠ¤</th><th>ğŸŒ ìœ„ì¹˜</th><th>ğŸ–¥ï¸ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸</th><th>ğŸ§¾ í…œí”Œë¦¿</th></tr></thead><tbody><tr><td>Redis (ElastiCache)</td><td>DMZ VPC</td><td><code>./0.deploy-redis.sh</code></td><td><code>redis-cluster-stack.yml</code></td></tr><tr><td>Aurora MySQL</td><td>VPC01</td><td><code>./0.deploy-aurora.sh</code></td><td><code>aurora-mysql-stack.yml</code></td></tr><tr><td>OpenSearch</td><td>DMZ VPC</td><td><code>./deploy-opensearch.sh</code></td><td><code>opensearch-stack.yml</code></td></tr><tr><td>Amazon EKS</td><td>DMZ VPC</td><td><p></p><pre><code>./dmz_eks_shell.sh

# eksctl êµ¬ì„± ë° ë°°í¬
./dmz_eksctl_shell.sh

# í´ëŸ¬ìŠ¤í„° êµ¬ì„± í™•ì¸ (dry-run)
eksctl create cluster --config-file=/home/ec2-user/amazonqcli_lab/LabSetup/eksworkshop.yaml --dry-run

# ì‹¤ì œ í´ëŸ¬ìŠ¤í„° ìƒì„±
eksctl create cluster --config-file=/home/ec2-user/amazonqcli_lab/LabSetup/eksworkshop.yaml
</code></pre></td><td><code>eksworkshop.yaml</code></td></tr></tbody></table>

***

### ğŸ§ª ë””ë ‰í„°ë¦¬ êµ¬ì¡°

```
LabSetup/
â”œâ”€â”€ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ 0.depoly-all-vpcs.sh
â”‚   â”œâ”€â”€ 0.deploy-tgw.sh
â”‚   â”œâ”€â”€ 0.deploy-redis.sh
â”‚   â””â”€â”€ 0.deploy-aurora.sh
â”œâ”€â”€ í™˜ê²½ ì„¤ì •
â”‚   â”œâ”€â”€ 1.vscode-tools-installer.sh
â”‚   â”œâ”€â”€ 2.set-aws-env.sh
â”‚   â””â”€â”€ 3.kms-setup.sh
â”œâ”€â”€ MCP ë° Q CLI ì„¤ì •
â”‚   â”œâ”€â”€ 4.install_core_mcp.sh
â”‚   â””â”€â”€ 5.setup-mcp-config.sh
â”œâ”€â”€ EKS ê´€ë ¨
â”‚   â”œâ”€â”€ dmz_eks_shell.sh
â”‚   â”œâ”€â”€ dmz_eksctl_shell.sh
â”‚   â””â”€â”€ dmz_eks_cleanup.sh
â”œâ”€â”€ ì¶”ê°€ ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ deploy-opensearch.sh
â””â”€â”€ CloudFormation í…œí”Œë¦¿
    â”œâ”€â”€ 1.DMZVPC.yml
    â”œâ”€â”€ 2.VPC01.yml
    â”œâ”€â”€ 3.VPC02.yml
    â”œâ”€â”€ 4.TGW.yml
    â”œâ”€â”€ aurora-mysql-stack.yml
    â”œâ”€â”€ redis-cluster-stack.yml
    â””â”€â”€ opensearch-stack.yml
```

***

> âœ… ì´ì œ ì´ ì‹¤ìŠµ í™˜ê²½ì„ ê¸°ë°˜ìœ¼ë¡œ Amazon Q CLI, MCP, VSCode ë° ë‹¤ì–‘í•œ AI ê°œë°œ ë„êµ¬ë¥¼ í†µí•©í•œ ì‹¤ì „ ì‹¤ìŠµì„ ì§„í–‰í•´ë³´ì„¸ìš”!
